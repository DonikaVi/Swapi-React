(this["webpackJsonpstar-wars"]=this["webpackJsonpstar-wars"]||[]).push([[0],{30:function(e,t,a){e.exports=a.p+"static/media/logo.eff994b1.svg"},47:function(e,t,a){e.exports=a.p+"static/media/filter.9c429b87.svg"},48:function(e,t,a){e.exports=a.p+"static/media/close.4a1dbf6a.svg"},55:function(e,t,a){e.exports=a(75)},60:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),i=(a(60),a(20)),s=a(25),o=a(7),u=a(19),m=a(45),p=a(46),f=a(9),d={people:[],crew:[1,1e5],capacity:[1,5e5],filterBy:"crew"};var E=function(e){return e.map((function(e){return{name:e.name,value:!1,url:e.url}}))},v={starships:{results:[],next:null},pilots:{}};var h={menuOpen:!1};var N=Object(u.combineReducers)({filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PEOPLE_FILTERS":var a=t.payload.results;return Object(f.a)(Object(f.a)({},e),{},{people:E(a)});case"APPLY_FILTERS":var n=t.payload,r=n.people,c=n.crew,l=n.capacity;return Object(f.a)(Object(f.a)({},e),{},{people:r,crew:c,capacity:l});case"CHANGE_FILTER_BY":return Object(f.a)(Object(f.a)({},e),{},{filterBy:t.payload});default:return e}},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PEOPLE":return Object(f.a)(Object(f.a)({},e),{},{pilots:t.payload});case"GET_STARSHIP":return Object(f.a)(Object(f.a)({},e),{},{starships:t.payload});case"ADD_STARSHIPS":var a=t.payload,n=a.results,r=a.next,c=Object(f.a)({},e.starships),l=c.results.concat(n);return c.results=l,c.next=r,Object(f.a)(Object(f.a)({},e),{},{starships:Object(f.a)({},c)});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU_CHANGE":return Object(f.a)(Object(f.a)({},e),{},{menuOpen:!e.menuOpen});default:return e}}}),b=Object(m.composeWithDevTools)({}),g=Object(u.createStore)(N,b(Object(u.applyMiddleware)(p.a))),y=a(4),O=(a(65),a(47)),w=a.n(O),j=a(48),C=a.n(j),S=[{value:"cost_in_credits",text:"BY COST IN CREDITS"},{value:"crew",text:"BY CREW SIZE"},{value:"MGLT",text:"BY MGLT NUMBER"}];function P(e){var t=e.filterBy,a=e.changeFilterBy,c=Object(n.useState)(!1),l=Object(y.a)(c,2),i=l[0],s=l[1],o=function(e){var n=e.value,c=e.text,l=t===n?"option option-selected":"option";return r.a.createElement("div",{onClick:function(){return function(e){a(e)}(n)},className:l},c)},u=S.find((function(e){return e.value===t}));return r.a.createElement("div",{className:"dropdown ".concat(i?"dropdown-opened":"")},r.a.createElement("div",{onClick:function(){return s(!i)},className:"dropdown-select"},u.text),r.a.createElement("div",{className:"dropdown-options ".concat(i?"":"dropdown-options-hide")},S.map((function(e){return r.a.createElement(o,{key:e.value,value:e.value,text:e.text})}))))}P.displayName="Dropdown";var x=P;a(66);function T(e){var t=e.item,a=Object(n.useState)({}),c=Object(y.a)(a,2),l=c[0],i=c[1],o=l.name,u=l.MGLT,m=l.cost_in_credits,p=l.crew,f=l.passengers,d=l.url;if(Object(n.useEffect)((function(){t&&i(t)}),[t]),!o)return null;var E=d.split("/"),v=E[E.length-2];return r.a.createElement("div",{className:"starship col-50 col-d-33"},r.a.createElement(s.b,{to:"/starship/".concat(v)},r.a.createElement("div",{className:"starship-top"},r.a.createElement("div",{className:"starship-small"},r.a.createElement("div",{className:"title"},"EX"),r.a.createElement("div",{className:"sub-title"},"MGLT-",u))),r.a.createElement("div",{className:"starship-info"},r.a.createElement("p",{className:"starship-info-p"},o),r.a.createElement("ul",{className:"starship-info-list"},r.a.createElement("li",{className:"starship-info-list-li"},"CR: ",m),r.a.createElement("li",{className:"starship-info-list-li"},"CREW: ",p),r.a.createElement("li",{className:"starship-info-list-li"},"PSNGS: ",f)))))}T.displayName="MainPage";var F=T,_=a(41),k=a.n(_),B=a(49),I=a(37),M=a(96),L=a(99),R=a(97);function A(e){return{type:"GET_PEOPLE_FILTERS",payload:e}}var H=a(98);function G(e){var t=e.value,a=e.handleChange,n=e.min,c=e.max;return r.a.createElement("div",{className:"filters-slider"},r.a.createElement(H.a,{min:n,max:c,value:t,onChange:a,valueLabelDisplay:"auto"}))}G.displayName="RangeSlider";var V=G;a(69);function Y(e){var t=e.props,a=e.handler,n=t.pilots,r=t.addPeopleFilters;a(!0);for(var c=Math.ceil((n.count-1)/10),l=[],i=[],s=1;s<=c;s++)l.push(fetch("https://swapi.dev/api/people?page=".concat(s)));Promise.all(l).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){return i=e.reduce((function(e,t){return[].concat(Object(I.a)(e),Object(I.a)(t.results))}),i),r({results:i}),i})).catch((function(e){a(!1),console.log(e)}))}function D(e){var t=Object(n.useState)([]),a=Object(y.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(!1),s=Object(y.a)(i,2),o=s[0],u=s[1],m=e.people,p=e.applyFiltersHandler,f=e.count;Object(n.useEffect)((function(){l(m)}),[m]);var d=function(e){var t=e.event,a=e.newValue,n=e.handler,r=e.origValue;if("touchmove"===t.type||"mousemove"===t.type)return n(a);var c=t.target.value;if(c){var l=Number.parseInt(c);if("start"===a)return n([l,r[1]]);n([r[0],l])}},E=r.a.useState([5,1e4]),v=Object(y.a)(E,2),h=v[0],N=v[1],b=r.a.useState([5,5e4]),g=Object(y.a)(b,2),O=g[0],w=g[1],j=function(){var t=Object(B.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y({props:e,handler:u});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),C=function(e){var t=e.target,a=t.name,n=t.checked,r=Object(I.a)(c),i=r.findIndex((function(e){return e.name===a}));r[i].value=n,l(r)};return r.a.createElement("div",{className:"filters"},r.a.createElement("button",{onClick:function(){p({crew:h,capacity:O,people:c})},type:"button",className:"filters-apply"},"Filters apply (",f,")"),r.a.createElement("div",{className:"filters-pilots"},r.a.createElement("div",{className:"filters-pilots-info"},r.a.createElement("div",{className:"filters-pilots-title"},"Pilots"),r.a.createElement("div",{className:"filters-pilots-count"},"(",c.length,")")),r.a.createElement(M.a,null,c.map((function(e){return r.a.createElement(L.a,{key:e.name,control:r.a.createElement(R.a,{checked:e.value,onChange:C,name:e.name,color:"primary"}),label:e.name})}))),!o&&r.a.createElement("div",{onClick:j,disabled:o,className:"filters-pilots-load-more"},"View All")),r.a.createElement("div",{className:"filters-item"},r.a.createElement("div",{className:"filters-item-title"},"Crew size"),r.a.createElement("div",{className:"filters-inputs"},r.a.createElement("div",{className:"filters-inputs-input"},r.a.createElement("input",{type:"text",onChange:function(e){return d({event:e,newValue:"start",handler:N,origValue:h})},value:h[0]})),r.a.createElement("div",{className:"filters-inputs-input"},r.a.createElement("input",{type:"text",onChange:function(e){return d({event:e,newValue:"end",handler:N,origValue:h})},value:h[1]}))),r.a.createElement("div",{className:"filters-slider"},r.a.createElement(V,{value:h,min:0,max:5e5,handleChange:function(e,t){return d({origValue:h,event:e,handler:N,newValue:t})}}))),r.a.createElement("div",{className:"filters-item"},r.a.createElement("div",{className:"filters-item-title"},"Passengers capacity"),r.a.createElement("div",{className:"filters-inputs"},r.a.createElement("div",{className:"filters-inputs-input"},r.a.createElement("input",{type:"text",onChange:function(e){return d({event:e,newValue:"start",handler:w,origValue:O})},value:O[0]})),r.a.createElement("div",{className:"filters-inputs-input"},r.a.createElement("input",{type:"text",onChange:function(e){return d({event:e,handler:w,newValue:"end",origValue:O})},value:O[1]}))),r.a.createElement(V,{value:O,min:0,max:1e12,handleChange:function(e,t){return d({origValue:O,event:e,handler:w,newValue:t})}})))}D.displayName="Filters";var U=Object(i.b)((function(e){return{people:e.filters.people,pilots:e.items.pilots,starships:e.items.starships,crew:e.filters.crew,capacity:e.filters.capacity}}),(function(e){return{addPeopleFilters:function(t){e(A(t))},applyFiltersHandler:function(t){e(function(e){return{type:"APPLY_FILTERS",payload:e}}(t))}}}))(D),W=(a(70),a(30)),z=a.n(W);function J(){var e="undefined"!==typeof window;function t(){return{width:e?window.innerWidth:null,height:e?window.innerHeight:null}}var a=Object(n.useState)(t()),r=Object(y.a)(a,2),c=r[0],l=r[1];return Object(n.useEffect)((function(){if(e){function a(){l(t())}return window.addEventListener("resize",a),function(){return window.removeEventListener("resize",a)}}}),[e]),c}var X=function(e){var t=e.changeMenu,a=e.menuOpen,c=J().width,l=Object(n.useState)(!1),i=Object(y.a)(l,2),s=i[0],o=i[1];Object(n.useEffect)((function(){o(c>=1200)}),[c]);var u=function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"header-menu ".concat(a?"header-menu-open":"")},r.a.createElement("ul",{className:"header-menu-list"},r.a.createElement("li",{className:"header-menu-list-item"},r.a.createElement("a",{href:"#"},"Hero")),r.a.createElement("li",{className:"header-menu-list-item"},r.a.createElement("a",{href:"#"},"List")),r.a.createElement("li",{className:"header-menu-list-item"},r.a.createElement("a",{href:"#"},"CTA Block")),r.a.createElement("li",{className:"header-menu-list-item"},r.a.createElement("a",{href:"#"},"Footer")))),a&&r.a.createElement("button",{className:"header-signup mob",type:"button"},"Fake Sign up"))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header-top"},r.a.createElement("a",{className:"logo-url",href:"/"},r.a.createElement("img",{src:z.a,alt:"Home page"})),r.a.createElement("div",{className:"header-right"},r.a.createElement("div",{onClick:t,className:"burger ".concat(a?"burger-close":"")}),s?r.a.createElement(u,null):null),s?r.a.createElement("button",{className:"header-signup desk",type:"button"},"Fake Sign up"):null),s?null:r.a.createElement(u,null))};function Z(e){var t=e.headerClass,a=e.headerText,n=e.changeMenu;return r.a.createElement("header",{className:"header ".concat(t)},r.a.createElement(X,{changeMenu:n}),r.a.createElement("div",{className:"header-bottom"},r.a.createElement("div",{className:"header-bottom-soldier"}),r.a.createElement("div",{className:"header-bottom-text"},a)))}Z.displayName="Header";var $=Z;a(71);function q(){var e=function(){window.scrollTo({top:0,behavior:"smooth"})};return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"footer-blue"},r.a.createElement("div",{className:"footer-form"},r.a.createElement("form",{className:"footer-form-wrapper",action:"/"},r.a.createElement("input",{className:"footer-form-input",type:"email",id:"email",name:"email",placeholder:"EMAIL"}),r.a.createElement("input",{className:"footer-form-input",type:"text",id:"phone",name:"phone",placeholder:"PHONE"})),r.a.createElement("button",{className:"footer-coupon",type:"submit"},r.a.createElement("div",{className:"footer-coupon-text"},"GET YOUR 20% OFF COUPON"),r.a.createElement("div",{className:"footer-coupon-icon"})))),r.a.createElement("div",{className:"footer-bottom"},r.a.createElement("a",{className:"logo-url",href:"/"},r.a.createElement("img",{src:z.a,alt:""})),r.a.createElement("div",{className:"footer-right"},r.a.createElement("nav",{className:"footer-menu"},r.a.createElement("ul",{className:"footer-menu-list"},r.a.createElement("li",{className:"footer-menu-list-item"},r.a.createElement("a",{href:"#"},"Hero")),r.a.createElement("li",{className:"footer-menu-list-item"},r.a.createElement("a",{href:"#"},"List")),r.a.createElement("li",{className:"footer-menu-list-item"},r.a.createElement("a",{href:"#"},"CTA Block")),r.a.createElement("li",{className:"footer-menu-list-item"},r.a.createElement("a",{href:"#"},"Footer"))))),r.a.createElement("button",{onClick:e,className:"footer-signup",type:"button"},"Povishe pleze")),r.a.createElement("div",{className:"footer-mobile"},r.a.createElement("button",{onClick:e,className:"scroll-top-btn",type:"button"},"Povishe pleze"),r.a.createElement("a",{className:"footer-logo",href:"#"},r.a.createElement("img",{src:z.a,alt:""}))))}q.displayName="Footer";var K=q;var Q=function(e){var t=e.changeMenu,a=e.menuOpen;return r.a.createElement("div",null,r.a.createElement(X,{changeMenu:t,menuOpen:a,hideBtn:!0}))};var ee=Object(i.b)((function(e){return{menuOpen:e.app.menuOpen}}),(function(e){return{changeMenu:function(){e({type:"MENU_CHANGE"})}}}))((function(e){var t=e.children,a=e.headerClass,n=e.headerText,c=e.changeMenu,l=e.menuOpen;return r.a.createElement(r.a.Fragment,null,l?r.a.createElement(Q,{changeMenu:c,menuOpen:l}):r.a.createElement(r.a.Fragment,null,r.a.createElement($,{changeMenu:c,headerClass:a,headerText:n}),t,r.a.createElement(K,null)))})),te=function(e){var t=e.props,a=e.results,n=t.crew,r=t.capacity,c=t.people,l=t.filterBy,i=Object(y.a)(n,2),s=i[0],o=i[1],u=a.filter((function(e){var t=ne({capacity:r,item:e});if(e.crew.includes("-"))return re({capCondition:t,item:e,crew:n});if(e.crew.includes(","))return ce({crew:n,capCondition:t,item:e});var a=Number.parseInt(e.crew);return a>=s&&a<=o&&t}));return c.some((function(e){return!!e.value}))&&(u=ae({res:u,people:c})),u.sort((function(e,t){return e[l]-t[l]}))},ae=function(e){var t=e.res,a=e.people.filter((function(e){return!!e.value})),n=[];return a.forEach((function(e){n.push(e.url)})),t.filter((function(e){return e.pilots.some((function(e){return n.includes(e)}))}))},ne=function(e){var t=e.item,a=e.capacity,n=Object(y.a)(a,2),r=n[0],c=n[1],l=Number.parseInt(t.cargo_capacity);return l>r&&l<c},re=function(e){var t=e.capCondition,a=e.item,n=e.crew,r=Object(y.a)(n,2),c=r[0],l=r[1],i=a.crew.split("-"),s=Object(y.a)(i,2),o=s[0],u=s[1];return Number.parseInt(o)>=c&&Number.parseInt(u)<=l&&t},ce=function(e){var t=e.item,a=e.crew,n=e.capCondition,r=Object(y.a)(a,2),c=r[0],l=r[1],i=t.crew.replace(/,/g,"");return(i=Number.parseInt(i))>=c&&i<l&&n},le="https://swapi.dev/api";function ie(e){var t=J().width,a=Object(n.useState)(t>=1920),c=Object(y.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(!1),o=Object(y.a)(s,2),u=o[0],m=o[1],p=l?C.a:w.a,f=e.starships,d=f.results,E=f.next,v=e.filterBy;Object(n.useEffect)((function(){Promise.all([fetch("".concat(le,"/people/")),fetch("".concat(le,"/starships/"))]).then((function(e){var t=Object(y.a)(e,2),a=t[0],n=t[1];return Promise.all([a.json(),n.json()])})).then((function(t){var a=Object(y.a)(t,2),n=a[0],r=a[1];e.getPilots(n),e.addPeopleFilters(n),e.getStarships(r)}))}),[]),Object(n.useEffect)((function(){i(t>=1025)}),[t]);var h=function(){m(!0),fetch(E).then((function(e){return e.json()})).then((function(t){m(!1),e.addStarships(t)}))},N=te({props:e,results:d});return r.a.createElement(ee,{headerText:"MAY THE FORCE BE WITH YOU",headerClass:" "},r.a.createElement("div",{className:"main-page"},r.a.createElement("h1",{className:"main-page-header"},"Our Starships"),r.a.createElement("div",{className:"main-page-filters"},r.a.createElement("div",{className:"main-page-dropdown"},r.a.createElement(x,{filterBy:v,changeFilterBy:e.changeFilterBy})),r.a.createElement("div",{onClick:function(){return i(!l)},className:"main-page-filter-ico"},r.a.createElement("img",{src:p,alt:"Filter"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-d-30"},l&&r.a.createElement(U,{count:N.length})),r.a.createElement("div",{className:"col-d-70 col-t-100"},r.a.createElement("div",{className:"row"},te({props:e,results:d}).map((function(e){return r.a.createElement(F,{key:e.name,item:e})}))))),E&&r.a.createElement("button",{disabled:u,onClick:h,type:"button",className:"view-more"},r.a.createElement("div",null,"View More"),r.a.createElement("div",{className:"view-more-ico ".concat(u?"view-more-ico-loading":"")}))))}ie.displayName="MainPage";var se=Object(i.b)((function(e){return{starships:e.items.starships,filterBy:e.filters.filterBy,crew:e.filters.crew,capacity:e.filters.capacity,people:e.filters.people}}),(function(e){return{getPilots:function(t){e(function(e){return{type:"GET_PEOPLE",payload:e}}(t))},getStarships:function(t){e(function(e){return{type:"GET_STARSHIP",payload:e}}(t))},addStarships:function(t){e(function(e){return{type:"ADD_STARSHIPS",payload:e}}(t))},addPeopleFilters:function(t){e(A(t))},changeFilterBy:function(t){e(function(e){return{type:"CHANGE_FILTER_BY",payload:e}}(t))}}}))(ie),oe=a(50),ue=a.n(oe);a(73);var me=function(e){var t=Object(n.useState)({}),a=Object(y.a)(t,2),c=a[0],l=a[1],i=c.name,s=c.cost_in_credits,u=c.crew,m=c.passengers,p=c.url,f=c.cargo_capacity,d=c.consumables,E=c.films,v=function(e){var t=e.title,a=e.value;return r.a.createElement("div",{className:"starship-desc-item col-50 col-d-33"},r.a.createElement("div",{className:"starship-desc-item-wrap"},r.a.createElement("div",{className:"starship-desc-item-title"},t),r.a.createElement("div",{className:"starship-desc-item-value"},a)))},h=Object(o.f)().id;return Object(n.useEffect)((function(){fetch("".concat("https://swapi.dev/api","/starships/").concat(h,"/")).then((function(e){return e.json()})).then((function(e){l(e)}))}),[h]),i?r.a.createElement(ee,{headerClass:"starship-header starship-page",headerText:i},r.a.createElement(F,{item:c}),r.a.createElement("p",{onClick:function(e){ue()(p)},className:"copy-url"},"COPY API URL"),r.a.createElement("div",{className:"row"},r.a.createElement(v,{value:s,title:"Cost in Credits"}),r.a.createElement(v,{value:u,title:"Crew"}),r.a.createElement(v,{value:m,title:"Passengers"}),r.a.createElement(v,{value:f,title:"Cargo Capacity"}),r.a.createElement(v,{value:d,title:"Consumables"}),r.a.createElement(v,{value:E.length,title:"Films Counter"}))):null};a(74);var pe=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.a,{store:g},r.a.createElement(s.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/starship/:id",children:r.a.createElement(me,null)}),r.a.createElement(o.a,{path:"/"},r.a.createElement(se,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[55,1,2]]]);
//# sourceMappingURL=main.ffee8820.chunk.js.map